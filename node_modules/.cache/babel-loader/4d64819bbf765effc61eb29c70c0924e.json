{"ast":null,"code":"//对axios进行二次封装\nimport axios from \"axios\";\n//引入进度条插件\nimport nprogress from \"nprogress\";\n//引入进度条样式\nimport \"/node_modules/nprogress/nprogress.css\";\n//在当前模块中引store\nimport store from \"@/store\";\n// const requests = axios.request({\n//     //配置对象\n//     baseUrl: \"/api\",\n//     timeout: 5000,\n// });\n//使用create方法创建axios实例\nexport const requests = axios.create({\n  timeout: 7000,\n  // 请求超时时间\n  baseURL: \"/api\",\n  headers: {\n    \"Content-Type\": \"application/json;charset=UTF-8\"\n  }\n});\n\n//请求拦截器\nrequests.interceptors.request.use(config => {\n  if (store.state.detail.uuid_token) {\n    //请求头添加一个字段:和后端商量\n    config.headers.userTempId = store.state.detail.uuid_token;\n  }\n  //需要携带token带给服务器\n\n  //进度条开始\n  nprogress.start();\n  return config;\n});\n\n//响应拦截器\nrequests.interceptors.response.use(res => {\n  //成功的回调函数\n  //进度条结束\n  nprogress.done();\n  return res.data;\n}, Error => {\n  //失败的回调函数\n  return Promise.reject(new Error(\"faile\"));\n});\nexport default requests;","map":{"version":3,"names":["axios","nprogress","store","requests","create","timeout","baseURL","headers","interceptors","request","use","config","state","detail","uuid_token","userTempId","start","response","res","done","data","Error","Promise","reject"],"sources":["D:/E-commerce/src/api/request.js"],"sourcesContent":["//对axios进行二次封装\nimport axios from \"axios\";\n//引入进度条插件\nimport nprogress from \"nprogress\";\n//引入进度条样式\nimport \"/node_modules/nprogress/nprogress.css\";\n//在当前模块中引store\nimport store from \"@/store\";\n// const requests = axios.request({\n//     //配置对象\n//     baseUrl: \"/api\",\n//     timeout: 5000,\n// });\n//使用create方法创建axios实例\nexport const requests = axios.create({\n    timeout: 7000, // 请求超时时间\n    baseURL: \"/api\",\n    headers: {\n        \"Content-Type\": \"application/json;charset=UTF-8\",\n    },\n});\n\n//请求拦截器\nrequests.interceptors.request.use((config) => {\n    if (store.state.detail.uuid_token) {\n        //请求头添加一个字段:和后端商量\n        config.headers.userTempId = store.state.detail.uuid_token\n    }\n    //需要携带token带给服务器\n\n    //进度条开始\n    nprogress.start();\n    return config;\n});\n\n//响应拦截器\nrequests.interceptors.response.use(\n    (res) => {\n        //成功的回调函数\n        //进度条结束\n        nprogress.done();\n        return res.data;\n    },\n    (Error) => {\n        //失败的回调函数\n        return Promise.reject(new Error(\"faile\"));\n    },\n);\n\nexport default requests;\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB;AACA,OAAOC,SAAS,MAAM,WAAW;AACjC;AACA,OAAO,uCAAuC;AAC9C;AACA,OAAOC,KAAK,MAAM,SAAS;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,QAAQ,GAAGH,KAAK,CAACI,MAAM,CAAC;EACjCC,OAAO,EAAE,IAAI;EAAE;EACfC,OAAO,EAAE,MAAM;EACfC,OAAO,EAAE;IACL,cAAc,EAAE;EACpB;AACJ,CAAC,CAAC;;AAEF;AACAJ,QAAQ,CAACK,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAK;EAC1C,IAAIT,KAAK,CAACU,KAAK,CAACC,MAAM,CAACC,UAAU,EAAE;IAC/B;IACAH,MAAM,CAACJ,OAAO,CAACQ,UAAU,GAAGb,KAAK,CAACU,KAAK,CAACC,MAAM,CAACC,UAAU;EAC7D;EACA;;EAEA;EACAb,SAAS,CAACe,KAAK,EAAE;EACjB,OAAOL,MAAM;AACjB,CAAC,CAAC;;AAEF;AACAR,QAAQ,CAACK,YAAY,CAACS,QAAQ,CAACP,GAAG,CAC7BQ,GAAG,IAAK;EACL;EACA;EACAjB,SAAS,CAACkB,IAAI,EAAE;EAChB,OAAOD,GAAG,CAACE,IAAI;AACnB,CAAC,EACAC,KAAK,IAAK;EACP;EACA,OAAOC,OAAO,CAACC,MAAM,CAAC,IAAIF,KAAK,CAAC,OAAO,CAAC,CAAC;AAC7C,CAAC,CACJ;AAED,eAAelB,QAAQ"},"metadata":{},"sourceType":"module"}